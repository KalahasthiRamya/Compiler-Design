%{
#include <stdio.h>
%}

/* Definitions */
KEYWORD     "int"|"float"|"double"|"char"|"void"|"main"|"return"
OPERATOR    "+"|"-"|"*"|"/"|"="|"<"|">"
DELIMITER   ","|";"|"("|")"|"{"|"}"
NUMBER      [0-9]+
IDENTIFIER  [a-zA-Z_][a-zA-Z0-9_]*
STRING      \"([^"])*\"
HEADER      "#include"[ \t]*"<"[a-zA-Z0-9_.]+">"

%%

{HEADER}       { printf("HEADER FILE   : %s\n", yytext); }
{KEYWORD}      { printf("KEYWORD       : %s\n", yytext); }
{IDENTIFIER}   { printf("IDENTIFIER    : %s\n", yytext); }
{NUMBER}       { printf("NUMBER        : %s\n", yytext); }
{STRING}       { printf("STRING        : %s\n", yytext); }
{OPERATOR}     { printf("OPERATOR      : %s\n", yytext); }
{DELIMITER}    { printf("DELIMITER     : %s\n", yytext); }

[ \t\n]+       ;   /* Ignore whitespace */
.              { printf("UNKNOWN       : %s\n", yytext); }

%%

int main()
{
    yyin = fopen("sample.c", "r");
    if (!yyin)
    {
        printf("Error: Cannot open file\n");
        return 1;
    }
    yylex();
    return 0;
}

int yywrap()
{
    return 1;
}
